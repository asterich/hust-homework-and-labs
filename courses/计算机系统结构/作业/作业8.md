### 8.11

- 每个页有32KB/128=256cache块，因为cache和内存之间按块传输，所以I/O传输本身不产生cache缺失，但是它可能要替换cache中的有效块。如果这些被替换块中有60%是被修改过，将需要（256×60%）×30=4608个时钟周期将这些被修改过的块写回主存。这些被替换出去的块中，有95%的后续需要访问，从而产生95%×256=244次不命中，将再次发生替换。由于被替换的244块中数据是从I/O直接写入cache中，因此所有块都为被修改块，需要写回主存（因为CPU不会直接访问从I/O来的新页改块，需要写回主存（因为CPU不会直接访问从I/O来的新页中的数据），所以他们不会立即从主存中调入cache），需要时间是244×（40+30）=17080个时钟周期。

- 没有I/O时，每一页平均使用200万个时钟周期，cache不命中36000次，其中60%被修改过，所需的处理时间为（36000×40%）×40+（36000×60%）×（40+30）=2088000时钟周期。

- I/O造成的额外性能损失比例为：（4608+17080）/（2000000+2088000）=0.53%，即产生大约0.53%的性能损失

### 补充题

1. ![作业8](./作业8.png)

2. $$
   R = (1 - (1 - R_1)^2) \cdot R_2 \cdot R_3 \cdot (1 - (1 - R_4)^2)^3 \approx 0.79
   $$

   

3. 采用双控制器；提高各部分器件可靠性；添加备用阵列控制器/通道适配器；增加NIC数量
